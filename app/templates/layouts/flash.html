{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    <div id="flash-message" class="alert alert-{{ messages[0][0] }} alert-dismissible show" role="alert">
      {{ messages[0][1] }}
      <!-- <button type="button" class="close" data-dismiss="alert" aria-label="Close"> -->
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
  {% endif %}
{% endwith %}

<!-- Add JavaScript to auto-dismiss the message after 3 seconds -->
<script>
  // Wait for the page to load
  window.addEventListener('DOMContentLoaded', (event) => {
    // Get the flash message element
    const flashMessage = document.getElementById('flash-message');
    if (flashMessage) {
      // Set timeout to remove the message after 3 seconds (3000 milliseconds)
      setTimeout(() => {
        flashMessage.classList.remove('show');
        flashMessage.classList.add('fade');
      }, 3000); // 3 seconds
    }
  });
</script>

<!-- Optional: Add Bootstrap's "fade" effect -->
<style>
  .fade {
    opacity: 0;
    transition: opacity .5s ease-out;
  }
</style>

